<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Invitación</title>

  <style>
    :root{
      /* SOLO CELULAR */
      --seal-top: 57.8%;                 /* posición vertical (donde lo marcaste) */
      --seal-size: clamp(180px, 52vw, 290px); /* tamaño del sello */
    }

    *{ box-sizing:border-box; }
    html, body{
      margin:0;
      padding:0;
      width:100%;
      height:100%;
      overflow:hidden;
      background:#000;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* ===== PORTADA ===== */
    .cover{
      position:fixed;
      inset:0;
      width:100%;
      height:100svh;
      background: url("envelope.jpg") center/cover no-repeat;
    }

    /* ===== PÉTALOS ===== */
    .petals{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 20;
      overflow:hidden;
    }

    .petal{
      position:absolute;
      top:-35vh;
      width: 140px;
      height: 140px;
      background: url("petal1.png") center/contain no-repeat;
      opacity: .95;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.10));
      will-change: transform;
      animation: fall linear infinite;
    }

    @keyframes fall{
      from{ transform: translate3d(0, -30vh, 0) rotate(0deg); }
      to  { transform: translate3d(var(--dx, 10vw), 130vh, 0) rotate(260deg); }
    }

    /* ===== SELLO (VISIBLE + CLICK) ===== */
    .seal{
      position:absolute;
      left:50%;
      top: var(--seal-top);
      transform: translate(-50%, -50%);

      width: var(--seal-size);
      height: var(--seal-size);

      background: url("seal.png") center/contain no-repeat;
      cursor: pointer;

      z-index: 40; /* encima de pétalos */
      -webkit-tap-highlight-color: transparent;

      /* sombra real (no halo circular gigante) */
      filter: drop-shadow(0 14px 26px rgba(0,0,0,.22));
    }

    /* ===== (OPCIONAL) si quieres que pétalos pasen por encima del sello =====
       Cambia z-index del sello a 10 y listo.
       .seal{ z-index:10; }
    */

  </style>
</head>

<body>
  <div class="cover" id="cover">
    <div class="petals" id="petals"></div>
    <div class="seal" id="seal" aria-label="Abrir invitación"></div>
  </div>

  <script>
    /* PÉTALOS: elegantes, lentos, sin exagerar */
    const petalsWrap = document.getElementById("petals");
    const PETAL_COUNT = 18; // cantidad (sube a 25 si quieres un poco más)

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function createPetals(){
      petalsWrap.innerHTML = "";

      for(let i=0;i<PETAL_COUNT;i++){
        const p = document.createElement("div");
        p.className = "petal";

        p.style.left = rand(-5, 105) + "vw";

        const size = rand(70, 140);
        p.style.width = size + "px";
        p.style.height = size + "px";

        const dur = rand(10, 18);          // caída lenta
        const delay = rand(-18, 0);        // ya aparecen en diferentes posiciones
        p.style.animationDuration = dur + "s";
        p.style.animationDelay = delay + "s";

        const dx = rand(-6, 14).toFixed(1) + "vw"; // deriva suave como aire
        p.style.setProperty("--dx", dx);

        petalsWrap.appendChild(p);
      }
    }

    createPetals();
    window.addEventListener("resize", () => {
      clearTimeout(window.__petalTimer);
      window.__petalTimer = setTimeout(createPetals, 160);
    });

    /* Si luego quieres abrir la invitación al tocar el sello, dime y te lo conecto */
    document.getElementById("seal").addEventListener("click", () => {
      // aquí luego conectamos tu segunda página si quieres
      // por ahora no hago nada para no romperte nada
    });
  </script>
</body>
</html>
